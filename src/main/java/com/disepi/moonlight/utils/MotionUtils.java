package com.disepi.moonlight.utils;

import cn.nukkit.math.Vector2;

public class MotionUtils {
    public static final double PI = 3.1415927;
    public static final double DEG = PI/180.0;

    // The default downwards velocity
    public static final double GRAVITY = 0.07840000093;

    // The maximum speed you can reach while on ground (no sprint jumping)
    public static final double GROUND_SPEED_DEFAULT = 0.28071764996629206;

    // An array of packet logged vanilla fall values. This may not be the best solution but it saves performance from not needing to do the math and also because it is accurate and easier to create checks with
    public static final double[] GRAVITY_FALL_VALUES = {0.07537841796875, 0.227783203125, 0.45550537109375, 0.756988525390625, 1.130889892578125, 1.5758056640625, 2.090087890625, 2.6724853515625, 3.321685791015625, 4.036285400390625, 4.8149871826171875, 5.656585693359375, 6.5596923828125, 7.5230865478515625, 8.545684814453125, 9.626296997070312, 10.763595581054688, 11.956588745117188, 13.051895141601562, 14.20489501953125, 15.414199829101562, 16.678695678710938, 17.997390747070312, 19.369293212890625, 20.7930908203125, 22.267990112304688, 23.792892456054688, 25.36669921875, 26.988693237304688, 28.657699584960938, 30.372787475585938, 32.13319396972656, 33.93798828125, 35.78619384765625, 37.67698669433594, 39.609588623046875, 41.58319091796875, 43.59678649902344, 45.64979553222656, 47.74128723144531, 49.870697021484375, 52.03709411621094, 54.23968505859375, 56.477996826171875, 58.751190185546875, 61.05848693847656, 63.43218994140625, 65.83689880371094, 68.2427978515625, 70.6802978515625, 73.14869689941406, 75.64749145507812, 78.17599487304688, 80.73359680175781, 83.31979370117188, 85.93399047851562, 88.57559204101562, 91.24409484863281, 93.93899536132812, 96.65969848632812, 99.40568542480469, 102.17658996582031, 104.97189331054688, 107.7908935546875, 110.63339233398438, 113.49879455566406, 116.3865966796875, 119.29649353027344, 122.22799682617188, 125.18058776855469, 128.1538848876953, 131.14759063720703, 134.16119384765625, 137.19438934326172, 140.24668884277344, 143.31769561767578, 146.40719604492188, 149.51459503173828, 152.6397933959961, 155.78229522705078, 158.9416961669922, 162.11779022216797, 165.31019592285156, 168.51869201660156, 171.74269104003906, 174.98219299316406, 178.2366943359375, 181.50588989257812, 184.7896957397461, 188.08759307861328, 191.3993911743164, 194.72489166259766, 198.06369400024414, 201.41559219360352, 204.78029251098633};

    // Returns the expected velocity based off the amount of ticks off ground
    public static double getExpectedFallValue(int fallTick) {
        if (fallTick < 0 || fallTick > GRAVITY_FALL_VALUES.length)
            return 0;
        return GRAVITY_FALL_VALUES[fallTick];
    }

}
